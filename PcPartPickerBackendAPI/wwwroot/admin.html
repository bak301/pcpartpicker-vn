<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/main.css">

    <title>System Build - </title>
</head>

<body>
    <header>
        <div class="container">
            <div class="pcpp-header">
                <a href="/">
                    <h1>PCPartPicker</h1>
                </a>
                <ul class="user-nav">

                    <li><a href="/accounts/login">Log In</a></li>
                    <li><a href="/accounts/register">Register</a></li>

                </ul>
            </div>
        </div>

        <nav>
            <div class="container">
                <div class="nav-wrapper">
                    <div class="primary-nav">
                        <a href="/build" class="nav-build"><span>Do a</span> System Build</a>
                        <a href="/guide" class="nav-guides"><span>View the</span> Build Guides</a>
                        <a href="/builds" class="nav-builds"><span>See all</span> Completed Builds</a>
                        <a id="browse-parts-button" href="partList.html" class="nav-parts">
                            <span>Browse by</span>
                            Individual Parts
                        </a>
                    </div>

                    <div class="secondary-nav">
                        <div class="sub-links">
                            <a href="/products/pricedrop">Price Drops</a><a href="/trends">Price Trends</a><a href="/forums">Forums</a><a href="/blog">Blog</a>
                        </div>
                        <div class="search"><a href="/search" class="search-parts"></a></div>
                    </div>
                </div>
            </div>
        </nav>
    </header>


    <div>
        <div class="system-build user">
            <div class="hero tabnav-hero">
                <div class="container">
                    <h1 class="title" id="choose-title"></h1>
                </div>
            </div>

            <!--Body-->

            <div class="details">
                <div class="part-index-body">
                    <div class="container">
                        <div class="column-wrapper">
                            <div class="left-column">
                                <!--<div id="filter">
                                    <h1>Filter</h1>
                                    <div>
                                        <h4>Price Range</h4>
                                        <label for="minprice">Min: </label><input type="number" id="minprice" name="minprice"
                                                                                  value="0" min="0" max="1000000000" step="50000">
                                        <br />
                                        <label for="maxprice">Max: </label><input type="number" id="maxprice" name="maxprice"
                                                                                  value="1000000000" min="0" max="1000000000" step="50000">
                                        <br />
                                        <a href="#" onclick=""><i><kbd>Filter</kbd></i></a>
                                    </div>
                                </div>-->
                            </div>
                            <div class="right-column">
                                <!--<div class="search-bar">
                                    Search Order: <input type="text" id="part_category_search" class="inactive_search">
                                </div>-->
                                <h2>Order list</h2>

                                <div class="part-category-compat-compare">

                                </div>

                                <div>

                                    <table id="list_table" class="part-table tablesorter tablesorter-default" role="grid">
                                        <thead>
                                            <tr class="tablesorter-headerRow">
                                                <th>
                                                    <div>
                                                        Customer Name
                                                    </div>
                                                </th>
                                                <th>
                                                    <div>
                                                        Phone number
                                                    </div>
                                                </th>
                                                <th>
                                                    <div>
                                                        Address
                                                    </div>
                                                </th>
                                                <th>
                                                    <div>
                                                        Order status
                                                    </div>
                                                </th>
                                                <th>
                                                    <div>
                                                        Build Id
                                                    </div>
                                                </th>
                                                <th class="hidden"></th>
                                            </tr>
                                        </thead>
                                        <tbody id="category_content" aria-live="polite" aria-relevant="all"></tbody>
                                    </table>

                                    <div id="page_button_row_bot"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="drop">
                <div id="search-tray-container">
                    <div class="container">
                        <div class="search-tray search-box">
                            <form action="/search/" method="get">
                                <input type="hidden" name="cc" value="us" />
                                <input id="search_q" type="text" name="q" size="32" autocomplete="off" />
                                <input id="search_go" type="submit" value="Search" />
                            </form>
                            <div id="search_result"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!--footer-->
            <footer class="modal-footer">
                <div class="container">
                    <div class="footer-branding">
                        <div class="copyright-notice">&copy;2018 PCPartPicker, LLC. All rights reserved.</div>
                    </div>
                    <ul class="footer-nav">
                        <h4>Sections</h4>
                        <li><a href="/list/">System Builds</a></li>
                        <li><a href="/guide/">Build Guides</a></li>
                        <li><a href="/builds/">Completed Builds</a></li>
                        <li><a href="/products/">Individual Parts</a></li>
                    </ul>
                    <ul class="footer-nav">
                        <h4>PCPP</h4>
                        <li><a href="/forums/">Forums</a></li>
                        <li><a href="/products/pricedrop/">Price Drops</a></li>
                        <li><a href="/trends/">Price Trends</a></li>
                        <li><a href="/blog/">PCPP Blog</a></li>
                    </ul>
                    <ul class="footer-nav">
                        <h4>PCPP</h4>
                        <li><a href="/about/">About</a></li>
                        <li><a href="/contact/">Contact &amp; Imprint</a></li>
                        <li><a href="/tos/">Terms of Service</a></li>
                        <li><a href="/code-of-conduct/">User Code of Conduct</a></li>
                        <li><a href="/code-of-conduct/industry-affiliate/">Industry Code of Conduct</a></li>
                        <li><a href="/privacy/">Privacy Policy</a></li>
                        <li><a href="/disclosure/">Disclosure</a></li>
                    </ul>
                    <ul class="footer-nav">
                        <h4>Elsewhere</h4>
                        <li><a href="https://discord.gg/pcpartpicker">Discord</a></li>
                        <li><a href="https://www.facebook.com/pcpartpicker">Facebook</a></li>
                        <li><a href="https://instagram.com/pcpartpicker">Instagram</a></li>
                        <li><a href="https://twitch.tv/pcpartpicker">Twitch</a></li>
                        <li><a href="https://twitter.com/pcpartpicker">Twitter</a></li>
                        <li><a href="https://www.youtube.com/user/pcpartpicker">YouTube</a></li>
                    </ul>
                </div>
                <!-- <div class="container">
                  <div class="pcpp-network">
                    <h4>PCPP Network</h4>
                    <div class="title-divider"></div>
                    <ul>
                      <li><a href="http://pcpartpicker.com" id="pcpp"></a></li>
                    </ul>
                  </div>
                </div> -->

            </footer>
            <div id="default_dialog" class="hidden-dialog"></div>

            <script src='/js/custom/build.js'></script>
            <script src='/js/custom/utility.js'></script>

            <script>
                //let partType = window.location.pathname.split('/').pop();
                window.onload = async function () {
                    //$('input[type=number]').on('keypress', filterByRange);
                    //$('input#part_category_search').on('keypress', e => {
                    //    if (e.keyCode == 13) {
                    //        filterBy('name', e.target.value);
                    //    }
                    //});

                    let orderList = await getJson(`api/order/`);
                    renderTable(orderList);
                    renderFilter(orderList, 'manufacturer');
                }

                function renderTable(list) {
                    let tbody = document.querySelector('#category_content');
                    tbody.innerHTML = "";
                    for (order of list) {
                        //let images = JSON.stringify(part.images ? part.images.split(',') : []);
                        let row = document.createElement('tr');
                        row.innerHTML = `<td class='tdname'><a href='${order.id}'>${order.customerName}</a></td>` +
                            `<td>${order.phoneNumber}</td>` +
                            `<td>${order.address}</td>` +
                            `<td>${order.orderStatus ? "Yes" : "No"}</td>` +
                            `<td>${order.buildId}</td>`; 
                        tbody.appendChild(row);
                    }
                }

               
            </script>


            <!-- Optional JavaScript -->
            <!-- jQuery first, then Popper.js, then Bootstrap JS -->
            <script src="/js/custom/app.js"></script>
            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
                    crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
                    crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
                    crossorigin="anonymous"></script>
</body>

</html>